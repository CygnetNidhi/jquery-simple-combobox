/**
 * jquery.simple-combobox v1.1.9 (2014-06-07): jQuery combobox plugin | (c) 2014 Ilya Kremer
 * MIT license http://www.opensource.org/licenses/mit-license.php
 * Minified by Google Closure Compiler
 */
(function(d,L){function M(a){return{fast:200,normal:400,slow:600}[a]||a}function w(a,b,e,c){"function"!=typeof e?b.trigger(a+("string"==typeof e?"."+e:"string"==typeof c?"."+c:"")):N.call(b,a,e,c);return this}function N(a,b,e){this.bind(a+("string"==typeof e?"."+e:""),b)}function O(){var a=d(this).find(b+n+" p"),f=d(this).children(b+r),e=[];a.each(function(){var a=d(this);a.find(":checkbox").prop("checked")&&e.push(a.data("value"))});d(this).children("select").val(e);f.val(JSON.stringify(e))}function P(){if(!this.data("listenersAdded")){var a=
this,f=a.data(c);this.on("keyup",b+k+", "+b+D,function(a){if(!(0<=[13,38,40,9].indexOf(a.which))){var h=f.fullMatch,g=f.highlight,g=h?!1!==g:!!g;a=d(this);var l=this.value.toLowerCase().trim(),m=a.closest(b).children(b+n);t.call(m,"down",!0);var k=a.closest(b).find("select option");d(b+" "+b+n).each(function(){m[0]!=this&&t.call(d(this),"up")});l?(m.children("p").hide(),k.each(function(){var a=d(this).text().toLowerCase().trim();if(h?0<=a.indexOf(l):0==a.indexOf(l)){var e=new RegExp(l,h?"g":""),a=
m.children("p:eq("+k.index(this)+"):not("+b+x+", "+b+A+")").show();g&&a.each(function(){d(b+"-marker",this).contents().unwrap();var a=d(b+B,this)[0];a.innerHTML=a.innerHTML.replace(e,'<span class="'+c+'-marker">'+l+"</span>")})}})):m.children("p").show().each(function(){d(b+"-marker",this).contents().unwrap()})}});this.on("keydown",b+k,function(a){if(0<=[38,40,13,27,9].indexOf(a.which)){9!=a.which&&a.preventDefault();var h=d(this).closest(b),g=h.children(b+n),l=d(b+u,g[0]),m;m=d("p:first",g[0]);var z=
f.loopScrolling,p=":not("+b+x+", "+b+A+")",q="default"==f.mode?f.fillOnArrowPress:!1;if(!g.is(":animated")){var s=this.value.trim().toLowerCase(),r=g.scrollTop();if(40==a.which)if(g.is(":hidden"))t.call(g,"down");else{if(0==l.length)a=m.is(":visible"+p)?m.addClass(c+u):m.nextAll(":visible"+p).first().addClass(c+u);else{if(!z&&!l.nextAll(":visible"+p).first().length)return;a=l.removeClass(c+u).nextAll(":visible"+p).first().addClass(c+u);0==a.length&&(a=m.is(":visible")?m.addClass(c+u):m.nextAll(":visible"+
p).first().addClass(c+u));0==a.length&&(a=m);m=a.position().top-g.position().top;p=a.outerHeight();m+6*p>g.height()?m+6*p-g.height()>1.5*p?g.scrollTop(r+m):g.scrollTop(r+p):0>m&&g.scrollTop(r- -m)}q&&(this.value=a.find(b+B).text(),h.children(b+k).data("fillonarrow",!0))}else if(38==a.which)g.is(":visible")&&(z||l.prevAll(":visible"+p).first().length)&&(a=l.removeClass(c+u).prevAll(":visible"+p).first().addClass(c+u),0==a.length&&(a=d("p:visible"+p+":last",g[0]).addClass(c+u)),m=a.position().top-g.position().top,
p=a.outerHeight(),m<3*p?g.scrollTop(r- -m-3*p):m>g.height()-3*p&&g.scrollTop(r+m-3*p),q&&(this.value=a.find(b+B).text(),h.children(b+k).data("fillonarrow",!0)));else if(13==a.which)if(f.fillOnBlur)H(g).click();else{var v=!1;g.children("p").each(function(){d(b+B,this).text().trim().toLowerCase()==s&&(d(this).click(),v=!0)});!1==v&&g.children(b+u).click();"default"==f.mode&&t.call(g,"up")}else 27==a.which?t.call(d(this).blur().closest(b).children(b+n),"up"):9==a.which&&f.fillOnTab&&s&&g.children("p:visible:first").length&&
(a.preventDefault(),g.children("p:visible:first").click())}}});this.on("change","select",function(a,f){var c=d(this).closest(b),l=d("option:selected",this).text();c.children(b+k).val(l).data("value",l);l=c.children(b+r);l.data("changed")?l.data("changed",!1):f?(O.call(c),l.change()):(l.change(),t.call(c.children(b+n),"up"))});this.on(c+"-chupdate",b+n+" p :checkbox",function(a,b){b&&(a.stopPropagation(),I.call(d(this).parent(),a,!0))});this.on("click",b+n+" p",function(e){e.stopPropagation();if(!d(this).is(b+
x+", "+b+A)){clearTimeout(a.data(c+"-invalid-timeout"));a.children(b+v).removeClass(c+v);a.children(b+q).removeClass(c+q+v);var f=d(this),g=f.parent(),l=g.children().index(this);"checkboxes"==a.data(c).mode?I.call(this,e):(e=g.closest(b).children("select"),e.children("option").eq(l).prop("selected",!0),e.siblings(b+r).val(e.val()),e.change(),t.call(f.parent(),"up"),f.addClass(c+u).siblings().removeClass(c+u))}});this.on("blur",b+k,function(){function f(){var a,e=h.val().trim().toLowerCase();m.find("option").each(function(){e==
d(this).text().trim().toLowerCase()&&(a=this.value)});!a&&e?(g.forbidInvalid?h.closest(b).find(b+k).val("").data("value",""):h.addClass(c+v).siblings(b+q).addClass(c+q+v),h.siblings("select, "+b+r).val("")):h.removeClass(c+v).siblings(b+q).removeClass(c+q+v)}var h=d(this),g=a.data(c);if(g.fillOnBlur)H(h.parent().children(b+n)).click();else{var l=h.val().trim().toLowerCase(),m=h.siblings("select"),z=h.siblings(b+r);a.data(c+"-invalid-timeout",setTimeout(f,500));var p=z.val();""==l&&z.val("");p!=z.val()&&
z.change().data("changed",!0)}});this.on("focus",b+k,function(){if(!this.value.trim())a.data(c).expandOnFocus&&d(this).keyup();else if(a[c]("val")){var f=a.children(b+n);f.children().show();t.call(f,"down")}});this.on("click",b+k+"-div",function(){a.data(c).disabled||t.call(d(this).siblings(b+n),"down")});this.on("click",b+k,function(a){var f=d(this).closest(b)[0];d(b).each(function(){if(this!=f)d(this)[c]("close")});a.stopPropagation()});this.on("click",b+s,function(a){a.stopPropagation();a=d(this).closest(b);
var f=a.children(b+n);f.is(":visible")?t.call(f,"up"):(t.call(f,"down"),a.children(b+k).focus())});this.on("click",b+J,function(e){e.stopPropagation();e=d(this);var c=e.parent();a.children(b+n).children("p").eq(e.data("index")).find(":checkbox").prop("checked",!1);c.fadeOut(f.animation.duration);e.closest(b).children("select").trigger("change",[!0])});f.autoLoad!=d.noop&&d(b+n,this).scroll(function(b){b=d(this);var c=a.children("select"),g=b.scrollTop();g>b.data("scrollTop")?this.scrollHeight-g-50<
b.height()&&!a.data("pending")&&(a.data("pending",!0),f.autoLoad.call(a,c.find("option[value]:last").val(),"bottom")):g<b.height()/2&&!a.data("pending")&&(a.data("pending",!0),f.autoLoad.call(a,c.find("option[value]:first").val(),"top"));b.data("scrollTop",g)}).data("scrollTop",0);K||(K=!0,d(L).bind("click."+c,function(){t.call(d(b+n),"up")}));this.data("listenersAdded",!0)}}function Q(a){if("string"==typeof a&&(a=d.parseJSON(a),null==a))return[];if(!a)return!1;if(!(a instanceof Array)){if("object"!=
typeof a)return!1;"undefined"==typeof a.length&&(a.length=Object.keys(a).length);a=[].slice.call(a)}return a}function R(a,b){for(var c=0;c<a.length;c++)a[c].value&&a[c].text||a[c].hasOwnProperty("separator")||a.splice(c,1)}function S(a){for(var b=0;b<a.length;b++)a[b].value||d(a[b]).hasClass(c+x)||"optgroup"==a[b].tagName.toLowerCase()||d(a[b]).remove()}function T(a,b){return a.text.trim().toLowerCase()>b.text.trim().toLowerCase()?1:-1}function U(a){for(var b=0;b<a.length;b++)for(var c=b+1;c<a.length;c++)a[b]&&
a[c]&&a[b].value==a[c].value&&a.splice(b,1)}function V(a){for(var b=0;b<a.length;b++)for(var c=b+1;c<a.length;c++)a[b]&&a[c]&&a[b].value==a[c].value&&"optgroup"!=a[b].tagName.toLowerCase()&&d(a[b]).remove()}function t(a,f){if(!this.is(":animated")&&this.length&&("up"!=a||!this.is(":hidden")||1!=this.length)){var e=this.parent().data(c).animation;d.easing[e.easing]||(console.warn("no such easing: "+e.easing),e.easing="swing");var h=this.parent(),g=h.data(c);"up"==a?(g.beforeClose.call(h),e.complete=
function(){g.afterClose.call(h)},this.slideUp(e).data("p-clicked-index",-1),h.children(b+s).removeClass(c+s+"-up")):(g.beforeOpen.call(h),e.complete=function(){g.afterOpen.call(h)},this.slideDown(e),h.children(b+s).addClass(c+s+"-up"));h.children(b+k).each(function(){var a=d(this);a.data("fillonarrow")&&!f&&a.data("fillonarrow",!1).val(a.data("value"))})}}function I(a,f){var e=d(this),h=e.closest(b),g=e.parent(),l=g.children("p"),m=l.index(this),k=M(g.parent().data(c).animation.duration);if(!f){var p=
e.find(":checkbox");d(a.target).is(":checkbox")||p.prop("checked",!p.prop("checked"));p=p.prop("checked");if(a.shiftKey&&0<=g.data("p-clicked-index"))for(var n=g.data("p-clicked-index"),r=n<m?m:n,n=n<m?n:m;n<=r;n++)d(l[n]).find(":checkbox").prop("checked",p)}var q=h.find(b+E).prepend("<span />");h.find(b+E).fadeOut(k/5,function(){q.empty().show();l.each(function(a){var f=d(this);f.find(":checkbox").prop("checked")&&q.append(d("<div />").addClass(c+C).append(d("<div />").addClass(c+C+"-text").text(f.find(b+
B).text())).append(d("<div />").addClass(c+J).text("\u00d7").data("index",a)).fadeIn(1.5*k))});q.append('<div style="clear: both" />')});g.data("p-clicked-index",m);e.closest(b).children("select").trigger("change",[!0])}function W(a,f){for(var e=this.data(c),h=this.find("select"),g=this.find(b+n),l=0;l<a.length;l++){if(a[l].hasOwnProperty("separator"))var m=a[l].hasOwnProperty("header")?d('<p class="'+c+A+'" />').text(a[l].header):d('<p class="'+c+x+'" />'),k=d("<option />");else k=d("<option />").val(a[l].value).text(a[l].text),
m=e.pFillFunc.call(this,a[l],e),"checkboxes"==e.mode&&m.prepend('<input type="checkbox" />');m.data("value",a[l].value);f?(h.prepend(k),g.prepend(m)):(h.append(k),g.append(m))}}function H(a){var c=a.children(b+u+":visible");0==c.length&&(c=a.children(":visible:first"));return c}function G(a){if(null==a)return null;for(var b=Object.keys(a),c=0;c<b.length;c++){var d=b[c].replace(/-([a-z])/g,function(a){return a[1].toUpperCase()});b[c]!=d&&(a[d]=a[b[c]],delete a[b[c]]);"object"==typeof a[d]&&"data"!=
d&&G(a[d])}return a}var c="scombobox",b="."+c,k="-display",r="-value",v="-invalid",D=k+"-div",C=D+"-item",J=C+"-remove",E=D+"-holder",n="-list",B="-mainspan",u="-hovered",x="-separator",A="-header",q="-dropdown-background",s="-dropdown-arrow",K=!1,y=parseInt,F={init:function(){var a=this.find("."+c+n),f=this.find("select"),e=this.find(b+q),h=this.find(b+s),g=this.data(c);this.addClass(c);0==f.length&&this.append(d("<select />"));this.attr("id")&&f.removeAttr("id");f.attr("multiple")&&(this.data(c).mode=
"checkboxes");0==e.length&&this.append('<div class="'+c+q+'" />');0==h.length&&this.append('<div class="'+c+s+'" />');F.displayDropdown.call(this,g.showDropDown);"checkboxes"!=g.mode&&0==this.find(b+k).length&&(f=d('<input class="'+c+k+'" type="text" />'),this.append(f),this.height(+f.css("font-size")+ +f.css("padding-top")+ +f.css("padding-bottom")));null!=g.tabindex&&this.find(b+k).attr("tabindex",g.tabindex);0==this.find(b+r).length&&this.append('<input class="'+c+r+'" type="hidden" />');(this.find(b+
k).is(":disabled")||g.disabled)&&this.find(b+q+", "+b+s).hide();g.disabled&&(this.find(b+k).prop("disabled",!0),this.addClass(c+"-disabled"));0==a.length&&this.append(a=d('<div class="'+c+n+'"></div>'));"checkboxes"==g.mode?(this.addClass(c+"-checkboxes"),this.find(b+k).remove(),0==this.find(b+k+"-div").length&&this.append('<div class="'+c+D+'"><div class="'+c+E+'" /></div>'),a.insertAfter(this.find(b+k+"-div")),e=this.find(b+E),f=d('<div class="'+c+C+'" id="'+c+'-test-item"><div class="'+c+C+'-text">x</div></div>'),
e.append(f.css("margin-left","-9999px").show()),e=f.height()+y(f.css("padding-top"))+y(f.css("padding-top"))+y(f.css("margin-top"))+y(f.css("margin-top"))+y(f.css("border-top-width"))+y(f.css("border-top-width"))+y(e.css("padding-top"))+y(e.css("padding-top")),this.find(b+k+"-div").css("min-height",e+"px"),f.remove()):(this.find(b+"-display-div").remove(),a.insertAfter(this.find(b+k)));a.css({"max-width":g.listMaxWidth,"max-height":g.maxHeight});!0==g.wrap&&a.css("white-space","normal");g.autoLoad!=
d.noop&&(g.loopScrolling=!1);P.call(this);this.data(c+"-init",!0);return F.fill.call(this,g.data)},fill:function(a,f){var e=this.find("select").children("option, optgroup"),h=this.find("."+c+n),g=this.find("select");a=Q(a);var l=this.data(c),m=l.mode;a?(l.removeDuplicates&&U(a),R(a),l.sort&&(a.sort(T),l.sortAsc||a.reverse()),f||(g.empty(),h.empty(),this.children(b+r+", "+b+k).val("")),W.call(this,a,2==f)):(l.removeDuplicates&&(V(e),S(e),e=this.find("select").children("option, optgroup")),0!=e.length&&
e.each(function(){var a=d(this),b=d("<p />");if(a.hasClass(c+x))a.hasClass(c+A)?h.append(b.addClass(c+A).text(a.text())):b.addClass(c+x);else{if("optgroup"==this.tagName.toLowerCase()){var f=a.attr("label"),e=d("option",this);a.before("<option />");a.after(e);a.remove();h.append(f?b.addClass(c+A).text(f):b.addClass(c+x));e.each(function(){h.append(d("<p />").text(d(this).text()).data("value",this.value))});return}b.append(d('<span class="'+c+B+'" />').text(a.text())).data("value",this.value);"checkboxes"==
m&&b.prepend('<input type="checkbox" />')}h.append(b)}));this.data(c+"-init")&&(l.callback.func.apply(this,l.callback.args),this.data(c+"-init",!1));if("checkboxes"!=m)this[c]("val",e.filter("option:selected:last").val());else e=e.filter(":selected").map(function(){return d(this).val()}).get(),this[c]("val",e);return this},clear:function(){this.children("select").empty();this.children(b+n).empty().width("");this.children(b+k).removeClass(c+v);this.children(b+q).removeClass(c+q+v);return this},data:function(a){if(0==
arguments.length)return this.data(c).data;this.data(c).data=a;return this},disabled:function(a){var f=this.data(c).mode;if(0==arguments.length)return"checkboxes"==f?this.hasClass(c+"-disabled"):this.children(b+k).prop("disabled");a=!!a;this.children(b+k).prop("disabled",a);a?(this.addClass(c+"-disabled"),this.children(b+q+", "+b+s).hide()):(this.removeClass(c+"-disabled"),this.children(b+q+", "+b+s).show());return this},tabindex:function(a){var c=this.find(b+k);if(0==arguments.length)return c.attr("tabindex");
c.attr("tabindex",a);return this},options:function(a){if(0==arguments.length)return this.data(c);d.extend(!0,this.data(c),G(a));return this},val:function(a){var f=this.data(c),e=f.mode,f=!f.forbidInvalid&&f.invalidAsValue;if(0==arguments.length){if("default"==e)var h=this.find(b+r).val(),h=f?h?h:this.find(b+k).val():h;return"default"==e?this.find(b+k).is(":disabled")?"":h:"checkboxes"==e?JSON.parse(this.find(b+r).val()||"[]"):null}if("default"==e){var g=d(this),e=g.children("select"),h=g.children(b+
r),f=g.children(b+k);0==e.children('[value="'+a+'"]').length?(e.children().prop("selected",!1),h.val(""),f.val("")):(e.val(a).change(),g.find(b+r).val(a))}else if("checkboxes"==e){for(var e=d(this).find(b+n+" p"),h=d(this).children(b+r),f=[],l=0;l<e.length;l++){var m=e.eq(l),q=a.indexOf(m.data("value"));0<=a.indexOf(m.data("value"))?(g=m.find(":checkbox").prop("checked",!0),f.push(a[q])):m.find(":checkbox").prop("checked",!1)}d(this).children("select").val(a);g.trigger(c+"-chupdate",[!0]);h.val(JSON.stringify(f))}return this},
open:function(){t.call(this.children(b+n),"down");return this},close:function(){t.call(this.children(b+n),"up");return this},change:function(a,c){return w.call(this,"change",this.children(b+r),a,c)},focus:function(a,c){return w.call(this,"focus",this.children(b+k),a,c)},blur:function(a,c){return w.call(this,"blur",this.children(b+k),a,c)},keyup:function(a,c){return w.call(this,"keyup",this.children(b+k),a,c)},keydown:function(a,c){return w.call(this,"keydown",this.children(b+k),a,c)},keypress:function(a,
c){return w.call(this,"keypress",this.children(b+k),a,c)},click:function(a,c){return w.call(this,"click",this.children(b+k),a,c)},mousedown:function(a,c){return w.call(this,"mousedown",this.children(b+k),a,c)},clickDropdown:function(a,c){return w.call(this,"click",this.children(b+s),a,c)},invalid:function(a){0==arguments.length?this.children(b+k).hasClass(c+v):this.children(b+k).addClass(c+v);return this},toSelect:function(){var a=this.children("select").insertAfter(this);this.data(c).reassignId&&
a.attr("id",this.attr("id"));this.remove();return a},displayDropdown:function(a){arguments.length?a?this.children(b+s+", "+b+q).show():this.children(b+s+", "+b+q).hide():this.data(c).showDropdown?this.children(b+s+", "+b+q).show():this.children(b+s+", "+b+q).hide();return this}};d.fn[c]=function(a){if("string"==typeof a){if(0==this.length)return this;null==this.data(c+"-init")&&d.error("Calling "+c+"."+a+" prior to initialization");var b=F[a];b||d.error("No such method: "+b+" in jQuery."+c+"()")}else if("object"==
typeof a||null==a)var e=d.extend(!0,{},d.fn[c].defaults,G(a));else return d.error("Incorrect usage"),this;return b?b.apply(this,Array.prototype.slice.call(arguments,1)):this.each(function(){var a=d(this);a.is("select, div")?(a.is("select")&&(a.wrap("<div />"),e.reassignId&&a.parent().attr("id",a.attr("id")),a=a.parent()),a.data(c,d.extend(!0,{},e)),F.init.apply(a)):console.warn("target element is incorrect: ",this)})};d.fn[c].defaults={data:null,disabled:!1,sort:!0,sortAsc:!0,removeDuplicates:!0,
fullMatch:!1,highlight:null,expandOnFocus:!0,tabindex:null,forbidInvalid:!1,invalidAsValue:!1,reassignId:!0,mode:"default",pMarkup:'<span class="'+c+B+'">${text}</span> <span>${additional}</span>',pFillFunc:function(a,b){return d("<p />").html(b.pMarkup.replace("${text}",a.text).replace("${additional}",a.additional?a.additional:""))},animation:{duration:"fast",easing:"swing"},listMaxWidth:window.screen.width/2,wrap:!0,maxHeight:"",fillOnArrowPress:!0,fillOnBlur:!1,fillOnTab:!0,showDropDown:!0,callback:{func:d.noop,
args:[]},beforeOpen:d.noop,beforeClose:d.noop,afterOpen:d.noop,afterClose:d.noop,autoLoad:d.noop,loopScrolling:!0};d.fn[c].extendDefaults=function(a){d.extend(!0,d.fn[c].defaults,a)}})(jQuery,document);